# Retail Sales Analytics Dashboard  

An interactive **Streamlit + Plotly** dashboard for exploring retail sales data, inventory risks, store performance, and customer retention.  
The project uses **SQLite** as a lightweight analytical database, rebuilt automatically from CSV inputs.

---

## 🚀 Features  

### 1. **Monthly Key Performance Indicators (KPIs)**  
- **Revenue** = Σ (*quantity × unit_price*)  
- **Total Orders** = Count of customer orders per month  
- **Units Sold** = Σ (*quantity*)  
- **Average Order Value (AOV)** = Revenue ÷ Orders  
- Includes **3-month moving averages** for trend smoothing.  

### 2. **Category & Region Insights**  
- **Pareto Chart** → Identify the top categories driving ~80% of revenue.  
- **Treemap** → Visualize how categories perform within each region.  
- **Stacked Bars** → Compare total regional revenue and category breakdown.  

### 3. **Store Performance**  
- **Store summary table** (Revenue, Orders, Units).  
- **KPI Trends per store** with period filters (last N months, all-time).  
- **Top Categories / Top Products** for each store.  

### 4. **Inventory Check**  
- **Low-Stock Risk Table** → Identify SKUs at risk of stockouts, flagged by:  
  - Bottom percentile of stock within category.  
  - Coverage below critical threshold (months).  
- **Category Stock Levels Chart** → Coverage vs. sales per category.  
- Download tables as CSV for further analysis.  

### 5. **Customer Analysis**  
- **Top Customers (by revenue)** with category breakdowns.  
- **Cohort Retention Checkpoints** (month 1–4).  
- **Customer Segments:**  
  - New (1 order month)  
  - Repeat (2–4 order months)  
  - Loyal (5+ order months)  

### 6. **About Tab**  
- Data dictionary, metric definitions, SQL methodology.  
- Transparent SQL queries viewable via expanders.  

---

## 🛠️ Tech Stack  

- **Frontend/UI:** Streamlit  
- **Visuals:** Plotly (Express + Graph Objects)  
- **Database:** SQLite (rebuilt automatically from CSVs)  
- **Data Processing:** Pandas  
- **Caching:** Streamlit `@st.cache_resource` and `@st.cache_data`  
- **SQL Storage:** Queries kept in `/queries/*.txt` for version control  

---

## 📂 Project Structure  
├─ app.py # Main Streamlit app
├─ retail_sales.db # SQLite database (autogenerated)
├─ csv_files/ # Input CSVs
│ ├─ customers.csv
│ ├─ inventory.csv
│ ├─ products.csv
│ ├─ sales.csv
│ └─ stores.csv
├─ queries/ # SQL queries (stored as .txt files)
│ ├─ main_kpi_summary.txt
│ ├─ all_stores_performance.txt
│ ├─ store_kpi_summary.txt
│ ├─ all_stores_category.txt
│ ├─ all_stores_products.txt
│ ├─ top_category.txt
│ ├─ region_category_heatmap.txt
│ ├─ inventory_tab_low_stock_risk.txt
│ ├─ inventory_category_stock_levels.txt
│ └─ customer_order_data.txt
└─ requirements.txt # Python dependencies

## ⚙️ Setup & Run  

1. **Clone repo & install dependencies**  

```bash
git clone https://github.com/Rotimi779/retail-sales-analytics.git
cd retail-sales-analytics
pip install -r requirements.txt
```
2. **Run the App**
```bash
streamlit run app.py
```

